<!DOCTYPE html>
<html lang="it">
<head>
<meta charset="UTF-8">
<meta name="viewport"
content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

<title>Gioco ðŸ”º</title>

<style>
* { touch-action: manipulation; box-sizing: border-box; }

body {
  margin: 0;
  background: #111;
  color: white;
  font-family: Arial;
}

#game {
  display: flex;
  height: 100vh;
  align-items: center;
  justify-content: center;
  gap: 20px;
}

/* ===== PANNELLI ===== */
.panel {
  background: #222;
  padding: 12px;
  border-radius: 10px;
  width: 180px;
}

button {
  width: 100%;
  padding: 8px;
  margin-top: 6px;
  border-radius: 6px;
  border: none;
  font-size: 14px;
}

/* ===== TRIANGOLO ===== */
#triangle {
  position: relative;
  width: 0;
  height: 0;
  border-left: 80px solid transparent;
  border-right: 80px solid transparent;
  border-bottom: 160px solid cyan;
}

/* ===== DISEGNI ===== */

/* Vestiti */
.clothes {
  position: absolute;
  top: 80px;
  left: -40px;
  width: 80px;
  height: 50px;
  display: none;
}
#gilet { background: #444; }
#shirt { background: #1976d2; }
#jacket { background: #6a1b9a; }

/* Cappelli */
.hat {
  position: absolute;
  top: -35px;
  left: -35px;
  width: 70px;
  height: 20px;
  display: none;
}
#hat1 { background: #333; }
#hat2 { background: #795548; }
#hat3 { background: #263238; }

/* Occhiali */
.glasses {
  position: absolute;
  top: 55px;
  left: -35px;
  width: 70px;
  height: 20px;
  display: none;
}
.glasses::before,
.glasses::after {
  content: "";
  position: absolute;
  width: 18px;
  height: 18px;
  border: 2px solid black;
  border-radius: 50%;
  top: 0;
}
.glasses::before { left: 0; }
.glasses::after { right: 0; }

/* Faccia */
.eye {
  position: absolute;
  top: 45px;
  width: 6px;
  height: 6px;y
  background: black;
  border-radius: 50%;
}
#eyeL { left: -15px; }
#eyeR { left: 9px; }

#mouth {
  position: absolute;
  top: 60px;
  left: -8px;
  width: 16px;
  height: 8px;
  border-bottom: 2px solid black;
  display: none;
}

/* ===== CUSTOMIZE MENU ===== */
#customize {
  position: fixed;
  inset: 0;
  background: rgba(0,0,0,0.7);
  display: none;
  justify-content: center;
  align-items: center;
}

#customizeBox {
  background: #222;
  padding: 16px;
  border-radius: 12px;
  width: 260px;
}

h4 { margin-bottom: 4px; margin-top: 10px; }
</style>
</head>

<body>

<div id="game">

  <!-- SHOP -->
  <div class="panel">
    <h3>ðŸŽ® Gioco</h3>
    ðŸ’° <span id="money">0</span><br>
    Punti: <span id="points">0</span><br>
    Rinascite: <span id="rebirths">0</span>
    <button onclick="openCustomize()">ðŸŽ¨ Customize</button>
  </div>

  <!-- TRIANGOLO -->
  <div id="triangle">
    <!-- Vestiti -->
    <div id="gilet" class="clothes"></div>
    <div id="shirt" class="clothes"></div>
    <div id="jacket" class="clothes"></div>

    <!-- Cappelli -->
    <div id="hat1" class="hat"></div>
    <div id="hat2" class="hat"></div>
    <div id="hat3" class="hat"></div>

    <!-- Occhiali -->
    <div id="gl1" class="glasses"></div>

    <!-- Faccia -->
    <div id="eyeL" class="eye"></div>
    <div id="eyeR" class="eye"></div>
    <div id="mouth"></div>
  </div>

</div>

<!-- CUSTOMIZE -->
<div id="customize">
  <div id="customizeBox">

    <h3>ðŸŽ¨ Customize</h3>

    <h4>Vestiti</h4>
    <button onclick="setClothes('gilet')">Gilet</button>
    <button onclick="setClothes('shirt')">Maglietta</button>
    <button onclick="setClothes('jacket')">Camicia</button>

    <h4>Cappelli</h4>
    <button onclick="setHat('hat1')">Cappello</button>
    <button onclick="setHat('hat2')">Cappello ragazzo</button>
    <button onclick="setHat('hat3')">Altro</button>

    <h4>Occhiali</h4>
    <button onclick="toggleGlasses()">Occhiali</button>

    <h4>Faccia</h4>
    <button onclick="setMouth()">Bocca</button>

    <button onclick="closeCustomize()">Chiudi</button>
  </div>
</div>

<script>
let points = 0;
let money = 0;
let rebirths = 0;
let rebirthGoal = 50;
const MAX_GOAL = 1000;

/* CLICK */
document.getElementById("triangle").addEventListener("pointerdown", e => {
  e.preventDefault();
  points++;
  money++;
  if (points >= rebirthGoal) doRebirth();
  updateUI();
});

/* RINASCITA */
function doRebirth() {
  points = 0;
  rebirths++;
  rebirthGoal *= 2;
  if (rebirthGoal > MAX_GOAL) rebirthGoal = MAX_GOAL;
}

/* UI */
function updateUI() {
  document.getElementById("points").textContent = points;
  document.getElementById("money").textContent = money;
  document.getElementById("rebirths").textContent = rebirths;
}

/* CUSTOMIZE */
function openCustomize() {
  document.getElementById("customize").style.display = "flex";
}
function closeCustomize() {
  document.getElementById("customize").style.display = "none";
}

/* SELEZIONI */
function hideAll(cls) {
  document.querySelectorAll(cls).forEach(e => e.style.display = "none");
}

function setClothes(id) {
  hideAll(".clothes");
  document.getElementById(id).style.display = "block";
}

function setHat(id) {
  hideAll(".hat");
  document.getElementById(id).style.display = "block";
}

function toggleGlasses() {
  const g = document.getElementById("gl1");
  g.style.display = g.style.display === "block" ? "none" : "block";
}

function setMouth() {
  const m = document.getElementById("mouth");
  m.style.display = m.style.display === "block" ? "none" : "block";
}

updateUI();
</script>

</body>
</html>
